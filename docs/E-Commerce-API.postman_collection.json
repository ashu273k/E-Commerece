{
	"info": {
		"_postman_id": "e-commerce-api-collection",
		"name": "E-Commerce API",
		"description": "Complete E-Commerce REST API Collection for testing",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "1. Authentication",
			"item": [
				{
					"name": "Login (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.data && jsonData.data.accessToken) {",
									"    pm.collectionVariables.set('token', jsonData.data.accessToken);",
									"    console.log('Token saved successfully!');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@ecommerce.com\",\n    \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						}
					}
				},
				{
					"name": "Login (User)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.data && jsonData.data.accessToken) {",
									"    pm.collectionVariables.set('token', jsonData.data.accessToken);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"user123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						}
					}
				},
				{
					"name": "Register New User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"newuser@example.com\",\n    \"password\": \"password123\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\",\n    \"phone\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "register"]
						}
					}
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/refresh?refreshToken=<your-refresh-token>",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "refresh"],
							"query": [
								{
									"key": "refreshToken",
									"value": "<your-refresh-token>"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "2. Products (Public)",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"]
						}
					}
				},
				{
					"name": "Get Products (Paginated)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products?page=0&size=5&sortBy=price&sortDir=asc",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "5"},
								{"key": "sortBy", "value": "price"},
								{"key": "sortDir", "value": "asc"}
							]
						}
					}
				},
				{
					"name": "Search Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/search?keyword=iphone&minPrice=500&maxPrice=1500",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "search"],
							"query": [
								{"key": "keyword", "value": "iphone"},
								{"key": "minPrice", "value": "500"},
								{"key": "maxPrice", "value": "1500"}
							]
						}
					}
				},
				{
					"name": "Get Featured Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/featured",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "featured"]
						}
					}
				},
				{
					"name": "Get Top Rated Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/top-rated",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "top-rated"]
						}
					}
				},
				{
					"name": "Get Newest Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/newest",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "newest"]
						}
					}
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "1"]
						}
					}
				},
				{
					"name": "Get Products by Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/category/5",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "category", "5"]
						}
					}
				}
			]
		},
		{
			"name": "3. Categories (Public)",
			"item": [
				{
					"name": "Get All Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories"]
						}
					}
				},
				{
					"name": "Get Root Categories (Tree)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/root",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", "root"]
						}
					}
				},
				{
					"name": "Get Category by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", "1"]
						}
					}
				},
				{
					"name": "Get Subcategories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/1/subcategories",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", "1", "subcategories"]
						}
					}
				}
			]
		},
		{
			"name": "4. Cart (Auth Required)",
			"item": [
				{
					"name": "Get Cart",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/cart",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart"]
						}
					}
				},
				{
					"name": "Add Item to Cart",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"productId\": 1,\n    \"quantity\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						}
					}
				},
				{
					"name": "Add Another Item",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"productId\": 4,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						}
					}
				},
				{
					"name": "Update Cart Item Quantity",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/cart/items/1?quantity=3",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items", "1"],
							"query": [{"key": "quantity", "value": "3"}]
						}
					}
				},
				{
					"name": "Remove Item from Cart",
					"request": {
						"method": "DELETE",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/cart/items/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items", "1"]
						}
					}
				},
				{
					"name": "Clear Cart",
					"request": {
						"method": "DELETE",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/cart",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart"]
						}
					}
				}
			]
		},
		{
			"name": "5. Orders (Auth Required)",
			"item": [
				{
					"name": "Create Order",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"shippingAddress\": {\n        \"street\": \"123 Main Street\",\n        \"city\": \"New York\",\n        \"state\": \"NY\",\n        \"zipCode\": \"10001\",\n        \"country\": \"USA\"\n    },\n    \"billingAddress\": {\n        \"street\": \"123 Main Street\",\n        \"city\": \"New York\",\n        \"state\": \"NY\",\n        \"zipCode\": \"10001\",\n        \"country\": \"USA\"\n    },\n    \"paymentMethod\": \"CREDIT_CARD\",\n    \"notes\": \"Please deliver between 9 AM - 5 PM\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders"]
						}
					}
				},
				{
					"name": "Get My Orders",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders"]
						}
					}
				},
				{
					"name": "Get Order by ID",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/orders/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "1"]
						}
					}
				},
				{
					"name": "Cancel Order",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/orders/1/cancel",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "1", "cancel"]
						}
					}
				}
			]
		},
		{
			"name": "6. Payments (Auth Required)",
			"item": [
				{
					"name": "Process Payment (Mock)",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"orderId\": 1,\n    \"amount\": 1899.98,\n    \"paymentMethod\": \"CREDIT_CARD\",\n    \"cardNumber\": \"4111111111111111\",\n    \"expiryMonth\": \"12\",\n    \"expiryYear\": \"2028\",\n    \"cvv\": \"123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/payments/process",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payments", "process"]
						}
					}
				},
				{
					"name": "Get Payment Status",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/payments/PAY-XXXXXXXX",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payments", "PAY-XXXXXXXX"]
						}
					}
				}
			]
		},
		{
			"name": "7. Reviews",
			"item": [
				{
					"name": "Get Product Reviews (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/1/reviews",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "1", "reviews"]
						}
					}
				},
				{
					"name": "Add Review",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rating\": 5,\n    \"title\": \"Excellent product!\",\n    \"comment\": \"Best smartphone I've ever used. Camera quality is amazing!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/products/1/reviews",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "1", "reviews"]
						}
					}
				},
				{
					"name": "Get My Reviews",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/reviews/my",
							"host": ["{{baseUrl}}"],
							"path": ["api", "reviews", "my"]
						}
					}
				},
				{
					"name": "Update Review",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rating\": 4,\n    \"title\": \"Updated review\",\n    \"comment\": \"Still a great product!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/reviews/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "reviews", "1"]
						}
					}
				},
				{
					"name": "Delete Review",
					"request": {
						"method": "DELETE",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/reviews/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "reviews", "1"]
						}
					}
				}
			]
		},
		{
			"name": "8. User Profile (Auth Required)",
			"item": [
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/profile",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "profile"]
						}
					}
				},
				{
					"name": "Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"John\",\n    \"lastName\": \"Updated\",\n    \"phone\": \"+9876543210\",\n    \"address\": {\n        \"street\": \"456 New Street\",\n        \"city\": \"Los Angeles\",\n        \"state\": \"CA\",\n        \"zipCode\": \"90001\",\n        \"country\": \"USA\"\n    }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/profile",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "profile"]
						}
					}
				},
				{
					"name": "Change Password",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"currentPassword\": \"admin123\",\n    \"newPassword\": \"newpassword123\",\n    \"confirmPassword\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/password",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "password"]
						}
					}
				}
			]
		},
		{
			"name": "9. Admin - Products",
			"item": [
				{
					"name": "Create Product",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"New Product\",\n    \"description\": \"Product description here\",\n    \"price\": 199.99,\n    \"discountPrice\": 179.99,\n    \"stockQuantity\": 100,\n    \"sku\": \"NEW-PRD-001\",\n    \"brand\": \"MyBrand\",\n    \"categoryId\": 1,\n    \"featured\": true,\n    \"imageUrls\": [\"https://example.com/image1.jpg\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/products",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"]
						}
					}
				},
				{
					"name": "Update Product",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"iPhone 15 Pro Max\",\n    \"description\": \"Updated description\",\n    \"price\": 1099.99,\n    \"stockQuantity\": 100,\n    \"categoryId\": 5\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/products/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "1"]
						}
					}
				},
				{
					"name": "Delete Product",
					"request": {
						"method": "DELETE",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/products/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "1"]
						}
					}
				}
			]
		},
		{
			"name": "10. Admin - Categories",
			"item": [
				{
					"name": "Create Category",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"New Category\",\n    \"description\": \"Category description\",\n    \"parentId\": null\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/categories",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories"]
						}
					}
				},
				{
					"name": "Update Category",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Category\",\n    \"description\": \"Updated description\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/categories/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", "1"]
						}
					}
				},
				{
					"name": "Delete Category",
					"request": {
						"method": "DELETE",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/categories/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", "1"]
						}
					}
				}
			]
		},
		{
			"name": "11. Admin - Orders",
			"item": [
				{
					"name": "Get All Orders",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/orders/all",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "all"]
						}
					}
				},
				{
					"name": "Get Orders by Status",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/orders/all?status=PENDING",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "all"],
							"query": [{"key": "status", "value": "PENDING"}]
						}
					}
				},
				{
					"name": "Update Order Status",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"SHIPPED\",\n    \"notes\": \"Package shipped via FedEx\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders/1/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "1", "status"]
						}
					}
				}
			]
		},
		{
			"name": "12. Admin - Analytics",
			"item": [
				{
					"name": "Get Sales Analytics",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/analytics/sales",
							"host": ["{{baseUrl}}"],
							"path": ["api", "analytics", "sales"]
						}
					}
				},
				{
					"name": "Get Product Analytics",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/analytics/products",
							"host": ["{{baseUrl}}"],
							"path": ["api", "analytics", "products"]
						}
					}
				},
				{
					"name": "Get User Analytics",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/analytics/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "analytics", "users"]
						}
					}
				}
			]
		},
		{
			"name": "13. File Upload",
			"item": [
				{
					"name": "Upload File",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": ""
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/files/upload",
							"host": ["{{baseUrl}}"],
							"path": ["api", "files", "upload"]
						}
					}
				},
				{
					"name": "Download File",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/files/filename.jpg",
							"host": ["{{baseUrl}}"],
							"path": ["api", "files", "filename.jpg"]
						}
					}
				},
				{
					"name": "Delete File",
					"request": {
						"method": "DELETE",
						"header": [
							{"key": "Authorization", "value": "Bearer {{token}}"}
						],
						"url": {
							"raw": "{{baseUrl}}/api/files/filename.jpg",
							"host": ["{{baseUrl}}"],
							"path": ["api", "files", "filename.jpg"]
						}
					}
				}
			]
		}
	]
}
